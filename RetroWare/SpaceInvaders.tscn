[gd_scene load_steps=6 format=2]

[ext_resource path="res://textures/download.png" type="Texture" id=1]
[ext_resource path="res://scripts/Enemy.gd" type="Script" id=2]
[ext_resource path="res://textures/kisspng-space-invaders-video-game-computer-icons-space-invader-5b2db8bf2434a4.4760147715297230711483.jpg" type="Texture" id=3]

[sub_resource type="GDScript" id=1]
script/source = "extends KinematicBody2D

export var speed = 300
var screen_size
var Bullet = preload(\"res://Bullet.tscn\")
# Declare member variables here. Examples:
# var a = 2
# var b = \"text\"


# Called when the node enters the scene tree for the first time.
func _ready():
	screen_size = get_viewport_rect().size

func _process(delta):
	var velocity = Vector2()  # The player's movement vector.
	if Input.is_action_pressed(\"ui_right\"):
		velocity.x += 1
	if Input.is_action_pressed(\"ui_left\"):
		velocity.x -= 1
	if velocity.length() > 0:
		velocity = velocity.normalized() * speed
	position += velocity * delta
	position.x = clamp(position.x, 75, screen_size.x - 75)
	if Input.is_action_just_pressed(\"ui_select\"):
		var b = Bullet.instance()
		owner.add_child(b)
		b.transform = $Position2D.global_transform
	
# Called every frame. 'delta' is the elapsed time since the previous frame.
#func _process(delta):
#	pass
"

[sub_resource type="RectangleShape2D" id=2]
extents = Vector2( 75, 40 )

[node name="Node2D" type="Node2D"]

[node name="Player" type="KinematicBody2D" parent="."]
position = Vector2( 530, 520 )
script = SubResource( 1 )

[node name="Sprite" type="Sprite" parent="Player"]
texture = ExtResource( 1 )

[node name="Position2D" type="Position2D" parent="Player"]
position = Vector2( 0, -50 )

[node name="Enemy" type="KinematicBody2D" parent="."]
position = Vector2( 75, 50 )
script = ExtResource( 2 )

[node name="Sprite" type="Sprite" parent="Enemy"]
scale = Vector2( 0.25, 0.25 )
texture = ExtResource( 3 )

[node name="Area2D" type="Area2D" parent="Enemy"]
position = Vector2( 0, 0.707108 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Enemy/Area2D"]
shape = SubResource( 2 )

[connection signal="area_entered" from="Enemy/Area2D" to="Enemy" method="_on_Area2D_area_entered"]
